(this["webpackJsonpphysics-ball-throw-simulation"]=this["webpackJsonpphysics-ball-throw-simulation"]||[]).push([[0],{55:function(e,t,a){e.exports=a(64)},60:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(9),r=a.n(i),l=(a(60),a(13)),o=a(15),c=a(12),h=a(16),m=a(17),u=a(18),p=a(48),g=a(4),v=a(108),d=a(105),y=a(106),b=a(107),f=a(37),w=a(38),x=a(114),E=a(98),O=a(109),j=a(113),k=a(50),C=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{position:"absolute",left:0,top:0,zIndex:1,transformOrigin:"2px 0px",transform:"translate(".concat(this.props.x-2,"px, ").concat(this.props.y,"px) rotate(").concat(-this.props.angle-Math.PI/2,"rad)")}},s.a.createElement("div",{style:{height:this.props.value,width:4,backgroundColor:this.props.color}}),s.a.createElement("div",{style:{position:"relative",height:0,width:0,left:-8,borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"20px solid ".concat(this.props.color)}}))}}]),t}(s.a.PureComponent),M=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{position:"absolute",left:-this.props.radius,top:-this.props.radius,zIndex:2,transform:"translate(".concat(this.props.x,"px, ").concat(this.props.y,"px)")}},s.a.createElement("div",{style:{borderRadius:"50%",width:2*this.props.radius,height:2*this.props.radius,backgroundColor:this.props.color}}))}}]),t}(s.a.PureComponent),P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).updateCanvas=function(){a.canvas.current.width=a.state.canvasWidth;var e,t=a.canvas.current.getContext("2d"),n=a.props.theme.palette.primary.main,s=parseInt(n.slice(1,3),16),i=parseInt(n.slice(3,5),16),r=parseInt(n.slice(5,7),16);for(t.strokeStyle=a.props.theme.palette.lines,e=0;e<a.state.canvasHeight;e+=a.scale())t.moveTo(0,a.state.canvasHeight-e),t.lineTo(a.state.canvasWidth,a.state.canvasHeight-e),t.stroke();for(e=0;e<a.state.canvasWidth;e+=a.scale())t.moveTo(e,0),t.lineTo(e,a.state.canvasHeight),t.stroke();var l=t.getImageData(0,0,a.state.canvasWidth,a.state.canvasHeight);a.props.results.locations.forEach((function(e){var t=Math.round(e.x*a.scale()),n=a.state.canvasHeight-Math.round(e.y*a.scale())-1;if(!(t<0||t>a.state.canvasWidth-1||n<0||n>a.state.canvasHeight-1)){var o=4*(t+n*a.state.canvasWidth);l.data[o+0]=s,l.data[o+1]=i,l.data[o+2]=r,l.data[o+3]=255}})),t.putImageData(l,0,0)},a.updateDimensions=function(){var e=a.canvas_container.current,t=e.getBoundingClientRect(),n=document.body.getBoundingClientRect();a.props.reach>0&&a.props.maxHeight,a.setState({canvasHeight:e.clientHeight-6,canvasWidth:e.clientWidth-6,canvasLeft:t.left-n.left,canvasTop:t.top-n.top})},a.scale=function(){return Math.min((a.state.canvasWidth-1)/a.props.reach,(a.state.canvasHeight-1)/a.props.maxHeight,300)},a.state={canvasHeight:100,canvasWidth:100,canvasTop:0,canvasLeft:0},a.canvas_container=s.a.createRef(),a.canvas=s.a.createRef(),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"componentDidUpdate",value:function(){this.updateCanvas()}},{key:"render",value:function(){var e=this.props.time,t=this.props.results.locations[e],a=this.props.results.velocities[e],n=this.props.results.accelerations[e],i={x:this.state.canvasLeft+Math.round(t.x*this.scale()),y:this.state.canvasTop+(this.state.canvasHeight-Math.round(t.y*this.scale())-1)},r={value:Math.hypot(a.x,a.y),angle:Math.atan2(a.y,a.x)},l={value:Math.hypot(n.x,n.y),angle:Math.atan2(n.y,n.x)},o=this.props.ballRadius,c=this.props.classes;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{width:"100%",height:"100%"},ref:this.canvas_container},s.a.createElement("canvas",{style:{position:"absolute",zIndex:0},width:this.state.canvasWidth,height:this.state.canvasHeight,ref:this.canvas}),s.a.createElement(E.a,{className:c.container,elevation:5},[{variable:s.a.createElement(s.a.Fragment,null,"t"),unit:"ms",value:this.props.time*this.props.timeChange},{variable:s.a.createElement(s.a.Fragment,null,"h",s.a.createElement("sub",null,"max")),unit:"m",value:this.props.maxHeight},{variable:s.a.createElement(s.a.Fragment,null,"x",s.a.createElement("sub",null,"max")),unit:"m",value:this.props.reach},{variable:s.a.createElement(s.a.Fragment,null,"x",s.a.createElement("sub",null,"t")),unit:"m",value:t.x},{variable:s.a.createElement(s.a.Fragment,null,"h",s.a.createElement("sub",null,"t")),unit:"m",value:t.y},{variable:s.a.createElement(s.a.Fragment,null,"|v\u20d7",s.a.createElement("sub",null,"t"),"|"),unit:"m/s",value:r.value},{variable:s.a.createElement(s.a.Fragment,null,"\u03b1",s.a.createElement("sub",null,"v")),unit:s.a.createElement(s.a.Fragment,null,"\xb0"),value:180*r.angle/Math.PI},{variable:s.a.createElement(s.a.Fragment,null,"v",s.a.createElement("sub",null,"x")),unit:"m/s",value:a.x},{variable:s.a.createElement(s.a.Fragment,null,"v",s.a.createElement("sub",null,"y")),unit:"m/s",value:a.y},{variable:s.a.createElement(s.a.Fragment,null,"|a\u20d7",s.a.createElement("sub",null,"t"),"|"),unit:"m/s^2",value:l.value},{variable:s.a.createElement(s.a.Fragment,null,"\u03b1",s.a.createElement("sub",null,"a")),unit:s.a.createElement(s.a.Fragment,null,"\xb0"),value:180*l.angle/Math.PI},{variable:s.a.createElement(s.a.Fragment,null,"a",s.a.createElement("sub",null,"x")),unit:"m/s^2",value:n.x},{variable:s.a.createElement(s.a.Fragment,null,"a",s.a.createElement("sub",null,"y")),unit:"m/s^2",value:n.y}].map((function(e,t){return s.a.createElement(k.a,{key:t},e.variable," = ",e.value.toFixed(2)," ",e.unit)})))),this.props.showVelocity?s.a.createElement(C,{x:i.x,y:i.y,value:r.value*this.scale()/10,angle:r.angle,color:this.props.theme.palette.showVelocity}):null,this.props.showAcceleration?s.a.createElement(C,{x:i.x,y:i.y,value:l.value*this.scale()/10,angle:l.angle,color:this.props.theme.palette.showAcceleration}):null,this.props.showBall?s.a.createElement(M,{x:i.x,y:i.y,radius:o*this.scale()/100,color:this.props.theme.palette.showBall}):null)}}]),t}(s.a.PureComponent),F=Object(g.a)((function(e){return{container:{padding:e.spacing(2),margin:e.spacing(0),float:"right",display:"inline-block",flexShrink:1,position:"relative",zIndex:10}}}),{withTheme:1})(P),S=a(104),H=a(110),I=a(102),T=a(103),D=a(112),A=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=180*this.props.start.angle/Math.PI,a=this.props.start.angle/Math.PI;return s.a.createElement(s.a.Fragment,null,[{label:"Przyspieszenie grawitacyjne",name:"gravity",unit:"m/s^2"},{label:"G\u0119sto\u015b\u0107 powietrza",name:"airDensity",unit:"kg/m^3"},{label:"Wsp\xf3\u0142czynnik oporu",name:"dragCoefficient",unit:""},{label:"Promie\u0144 pi\u0142ki",name:"ballRadius",unit:"cm"},{label:"Masa pi\u0142ki",name:"ballMass",unit:"kg"}].map((function(t){return s.a.createElement(H.a,{label:t.label,key:t.name,type:"number",margin:"normal",name:t.name,value:e.props.constants[t.name],onChange:e.props.changeConstant,InputProps:{endAdornment:s.a.createElement(I.a,{position:"end"},t.unit)},inputProps:{step:.1}})})),[{label:"Wysoko\u015b\u0107",name:"height",value:this.props.start.height,precision:.1,unit:"m"},{label:"Pr\u0119dko\u015b\u0107 pocz\u0105tkowa",name:"velocity",value:this.props.start.velocity,precision:.1,unit:"m/s"},{label:"K\u0105t",name:"angle",value:a,precision:.01,unit:s.a.createElement(s.a.Fragment,null,"\u03c0")},{label:"K\u0105t",name:"angleDeg",value:t,precision:.1,unit:s.a.createElement(s.a.Fragment,null,"\xb0")}].map((function(t){return s.a.createElement(H.a,{label:t.label,key:t.name,type:"number",margin:"normal",name:t.name,value:t.value,onChange:e.props.changeStart,InputProps:{endAdornment:s.a.createElement(I.a,{position:"end"},t.unit)},inputProps:{step:t.precision}})})),[{label:"Liczba iteracji",name:"iterationLimit",unit:""},{label:"Czas 1 iteracji",name:"timeChange",unit:"ms"}].map((function(t){return s.a.createElement(H.a,{label:t.label,key:t.name,type:"number",margin:"normal",name:t.name,value:e.props[t.name],onChange:e.props.changeSetting,InputProps:{endAdornment:s.a.createElement(I.a,{position:"end"},t.unit)}})})),s.a.createElement("br",null),[{label:"Pr\u0119dko\u015b\u0107",name:"showVelocity"},{label:"Przyspieszenie",name:"showAcceleration"},{label:"Pi\u0142ka",name:"showBall"}].map((function(t){return s.a.createElement(T.a,{label:t.label,key:t.name,control:s.a.createElement(D.a,{color:"primary",name:t.name,checked:e.props[t.name],onChange:e.props.changeSetting,style:{color:e.props.theme.palette[t.name]}})})})),s.a.createElement(T.a,{control:s.a.createElement(S.a,{checked:"dark"===this.props.theme.palette.type,onChange:this.props.changeTheme,color:"primary"}),label:"Dark mode <3"}))}}]),t}(s.a.PureComponent),W=Object(g.a)((function(e){return{}}),{withTheme:1})(A);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var L=Object(p.a)({palette:{type:"dark",primary:{main:d.a[400]},secondary:{main:d.a[400]},showAcceleration:y.a[400],showVelocity:b.a.A700,showBall:d.a.A700,lines:f.a[700]},contrastThreshold:3}),R=Object(p.a)({palette:{type:"light",primary:{main:w.a[600]},secondary:{main:d.a[500]},showAcceleration:y.a[400],showVelocity:b.a.A700,showBall:d.a.A700,lines:f.a[300]},contrastThreshold:3}),V=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).calculate=function(){var e=[],t=[],n=[],s=0,i=0,r=z({},a.state.constants,{gravity:parseFloat(a.state.constants.gravity)}),l=.5*r.dragCoefficient*r.airDensity*Math.pow(r.ballRadius/100,2)*Math.PI/r.ballMass,o=a.state.timeChange/1e3;if(e[0]={x:0,y:parseFloat(a.state.start.height)},t[0]={x:Math.cos(a.state.start.angle)*a.state.start.velocity,y:Math.sin(a.state.start.angle)*a.state.start.velocity},!(a.state.iterationLimit<2)){for(var c=0;c<a.state.iterationLimit&&(n[c]={x:-l*t[c].x*Math.sqrt(Math.pow(t[c].x,2)+Math.pow(t[c].y,2)),y:-(l*t[c].y*Math.sqrt(Math.pow(t[c].x,2)+Math.pow(t[c].y,2))+r.gravity)},t[c+1]={x:t[c].x+n[c].x*o,y:t[c].y+n[c].y*o},e[c+1]={x:e[c].x+t[c].x*o+n[c].x*Math.pow(o,2)*.5,y:e[c].y+t[c].y*o+n[c].y*Math.pow(o,2)*.5},!(e[c+1].y<0));c++)s=Math.max(s,e[c].x),i=Math.max(i,e[c].y);console.log(n),a.setState({results:{locations:e,velocities:t,accelerations:n},reach:s,maxHeight:i,time:0,shouldCalculate:!1})}},a.changeConstant=function(e){a.setState({constants:z({},a.state.constants,Object(l.a)({},e.target.name,e.target.value)),shouldCalculate:!0})},a.changeStart=function(e){var t=z({},e);"angleDeg"===t.target.name?t=z({},e,{target:z({},e.target,{value:Math.PI*(parseFloat(t.target.value)/180%.5),name:"angle"})}):"angle"===t.target.name&&(t=z({},e,{target:z({},e.target,{value:Math.PI*(parseFloat(t.target.value)%.5),name:"angle"})})),a.setState({start:z({},a.state.start,Object(l.a)({},t.target.name,t.target.value)),shouldCalculate:!0})},a.changeSetting=function(e){var t;"timeChange"===e.target.name||"iterationLimit"===e.target.name?a.setState((t={},Object(l.a)(t,e.target.name,e.target.value),Object(l.a)(t,"shouldCalculate",!0),t)):"showAcceleration"===e.target.name||"showVelocity"===e.target.name||"showBall"===e.target.name?a.setState(Object(l.a)({},e.target.name,e.target.checked)):a.setState(Object(l.a)({},e.target.name,e.target.value))},a.changeTime=function(e,t){a.setState({time:t})},a.changeTheme=function(){"dark"===a.state.theme.palette.type?a.setState({theme:R}):a.setState({theme:L})},a.state={theme:L,results:{locations:[],velocities:[],accelerations:[]},start:{height:1,velocity:40,angle:Math.PI/4},constants:{gravity:9.81,airDensity:1.225,dragCoefficient:.5,ballRadius:30,ballMass:.5},maxHeight:0,reach:0,iterationLimit:1e4,timeChange:1,time:0,shouldCalculate:!0,showVelocity:!0,showAcceleration:!0,showBall:!0};for(var n=0;n<100;n++)a.state.results.locations.push({x:100,y:100+n});return a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.calculate()}},{key:"componentDidUpdate",value:function(){!0===this.state.shouldCalculate&&this.calculate()}},{key:"render",value:function(){var e=this.props.classes;return s.a.createElement(v.a,{theme:this.state.theme},s.a.createElement(x.a,null),s.a.createElement("div",{className:e.app},s.a.createElement(O.a,{container:!0,style:{flexGrow:1}},s.a.createElement(O.a,{item:!0,xs:9,className:e.paper_container},s.a.createElement(E.a,{className:e.container,style:{display:"flex"}},s.a.createElement(F,{results:this.state.results,time:this.state.time,timeChange:this.state.timeChange,reach:this.state.reach,maxHeight:this.state.maxHeight,ballRadius:this.state.constants.ballRadius,showAcceleration:this.state.showAcceleration,showVelocity:this.state.showVelocity,showBall:this.state.showBall}))),s.a.createElement(O.a,{item:!0,className:e.paper_container},s.a.createElement(E.a,{className:e.container,style:{padding:this.props.theme.spacing(1),paddingTop:this.props.theme.spacing(3),paddingBottom:this.props.theme.spacing(3)}},s.a.createElement(j.a,{orientation:"vertical",variant:"secondary",defaultValue:30,value:this.state.time,min:0,max:this.state.results.accelerations.length-1,onChange:this.changeTime}))),s.a.createElement(O.a,{item:!0,xs:!0,className:e.paper_container},s.a.createElement(E.a,{className:e.container},s.a.createElement(W,{constants:this.state.constants,start:this.state.start,reach:this.state.reach,maxHeight:this.state.maxHeight,iterationLimit:this.state.iterationLimit,timeChange:this.state.timeChange,showVelocity:this.state.showVelocity,showAcceleration:this.state.showAcceleration,showBall:this.state.showBall,changeConstant:this.changeConstant,changeStart:this.changeStart,changeSetting:this.changeSetting,changeTheme:this.changeTheme}))))))}}]),t}(s.a.PureComponent),N=Object(g.a)((function(e){return{app:{height:"100%",width:"100%",position:"absolute",top:0,left:0,display:"flex",flexFlow:"column"},container:{padding:e.spacing(2),margin:e.spacing(2),flexGrow:1},paper_container:{display:"flex",flexFlow:"column"}}}),{withTheme:1})(V);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[55,1,2]]]);
//# sourceMappingURL=main.030611fc.chunk.js.map